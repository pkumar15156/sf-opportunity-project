%dw 2.0
output application/csv //header = true, separator = " "
var txstaResponse = vars.finalResponse filter (item) -> item.uniqueKey == "Datapipe"
---
txstaResponse map{
	"ORDERID": $."Line Item Number",
	"LINENUMBER": 1,
	"SUBLINENUMBER": 1,
	"EVENTTYPEID": $."Transaction Type",
	"ACCOUNTINGDATE": "",
	"PRODUCTID": "",
	"PRODUCTNAME": "",
	"PRODUCTDESCRIPTION": "",
	"UNITTYPEFORVALUE 2"  : "GC",
	"NUMBEROFUNITS": "",
	"UNITVALUE": "",
	"UNITTYPEFORUNITVALUE 2": "",
	"COMPENSATIONDATE": $."Invoice Date",
	"ALTERNATEORDERNUMBER": $."Invoice Number",
	"DATASOURCE": "",
	"NATIVECURRENCY": $."Currency Code",
	"NATIVECURRENCYAMOUNT": $.Amount,
	"DISCOUNTPERCENT": "",
	"DISCOUNTTYPE": "",
	"BILLTOCUSTID": "",
	"BILLTOCONTACT": "",
	"BILLTOCOMPANY": "",
	"BILLTOAREACODE": "",
	"BILLTOPHONE": "",
	"BILLTOFAX": "",
	"BILLTOADDRESS1": "",
	"BILLTOADDRESS2": "",
	"BILLTOADDRESS3": "",
	"BILLTOCITY": "",
	"BILLTOSTATE": "",
	"BILLTOCOUNTRY": "",
	"BILLTOPOSTALCODE": "",
	"BILLTOINDUSTRY": "",
	"BILLTOGEOGRAPHY": "",
	"SHIPTOCUSTID": "",
	"SHIPTOCONTACT": "",
	"SHIPTOCOMPANY": "",
	"SHIPTOAREACODE": "",
	"SHIPTOPHONE": "",
	"SHIPTOFAX": "",
	"SHIPTOADDRESS1": "",
	"SHIPTOADDRESS2": "",
	"SHIPTOADDRESS3": "",
	"SHIPTOCITY": "",
	"SHIPTOSTATE": "",
	"SHIPTOCOUNTRY": "",
	"SHIPTOPOSTALCODE": "",
	"SHIPTOINDUSTRY": "",
	"SHIPTOGEOGRAPHY": "",
	"OTHERTOCUSTID": "",
	"OTHERTOCONTACT": "",
	"OTHERTOCOMPANY": "",
	"OTHERTOAREACODE": "",
	"OTHERTOPHONE": "",
	"OTHERTOFAX": "",
	"OTHERTOADDRESS1": "",
	"OTHERTOADDRESS2": "",
	"OTHERTOADDRESS3": "",
	"OTHERTOCITY": "",
	"OTHERTOSTATE": "",
	"OTHERTOCOUNTRY": "",
	"OTHERTOPOSTALCODE": "",
	"OTHERTOINDUSTRY": "",
	"OTHERTOGEOGRAPHY": "",
	"REASONID": "",
	"COMMENTS": "",
	"GENERICATTRIBUTE3": $."Device Number",
	"GENERICATTRIBUTE4": $.FinalOpportunityType,
	"GENERICATTRIBUTE5": $.PartnerType,
	"GENERICATTRIBUTE6": $.PartnerAccountName,
	"GENERICATTRIBUTE7": $.OpportunityCategory,
	"GENERICATTRIBUTE8": "",
	"GENERICATTRIBUTE9": $.PartnerAccountOwner,
	"GENERICATTRIBUTE10": $.PartnerAccountOwnerRole,
	"GENERICATTRIBUTE11": $.PartnerContractType,
	"GENERICATTRIBUTE12": $.CommissionRole,
	"GENERICATTRIBUTE13": $.OracleVendorId,
	"GENERICATTRIBUTE14": "",
	"GENERICATTRIBUTE21": $."Invoice Source",
	"GENERICATTRIBUTE22": $."Product Group",
	"GENERICATTRIBUTE23": $."Product Type",
	"GENERICATTRIBUTE24": $."Product Type Charge Type",
	"GENERICATTRIBUTE25": $.PartnerAccountId,
	"GENERICATTRIBUTE27": $.PartnerAccountType,
	"GENERICATTRIBUTE28": $.PartnerAccountSubType,
	"GENERICATTRIBUTE31": $."Account Key",
	"UNITTYPEFORGENERICNUMBER4": "",
	"GENERICNUMBER5": "",
	"UNITTYPEFORGENERICNUMBER5": "",
	"GENERICNUMBER6": "",
	"UNITTYPEFORGENERICNUMBER6": "",
	"GENERICDATE1": $.CloseDate,
	"GENERICDATE4": $."Contract End Date",
	"GENERICDATE6": "",
	"GENERICBOOLEAN1": "",
	"GENERICBOOLEAN2": "",
	"GENERICBOOLEAN3": "",
	"GENERICBOOLEAN4": "",
	"GENERICBOOLEAN5": "",
	"GENERICBOOLEAN6": ""
	}